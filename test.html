<!doctype html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8">
<title>ã€‚ï½¥ï¾Ÿï½¥äº’å‹•è¦–é »ã€‚ï½¥ï¾Ÿï½¥ ã€Šæœªæ¥ä¾†é›»ã€‹</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- =================================================
   ğŸ”§ ç¶²é  iconï¼ˆå¯ç”¨ png / webp / icoï¼‰
   ğŸ‘‰ æ›æˆä½ è‡ªå·±çš„åœ–
================================================= -->
<link rel="icon" href="Screenshot_2025_1209_164830.png">

<style>
html, body {
    margin: 0;
    width: 100%;
    height: 100%;
    background: black;
    overflow: hidden;
    font-family: Arial, sans-serif;
}

/* ================= å…±ç”¨é®ç½© ================= */
.menu {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.8);
    display: none;
    z-index: 100;
}
.menu.show { display: block; }

/* ================= ä¸»é¸å–® ================= */
.menu-bg {
    position: absolute;
    inset: 0;

    /* ğŸ”§ ä¸»é¸å–®èƒŒæ™¯åœ–åœ¨é€™è£¡æ› */
    background-image: url("menu_bg.jpg");
    background-size: cover;
    background-position: center;
}

.menu-buttons {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    display: flex;
    flex-direction: column;
    gap: 26px;
}

.menu-buttons button {
    width: 320px;
    padding: 22px;
    font-size: 22px;
    border-radius: 40px;
    background: rgba(0,0,0,0.7);
    color: white;
    border: 2px solid white;
    cursor: pointer;
}

/* ================= éŠæˆ²ç•«é¢ ================= */
#video-container {
    position: fixed;
    inset: 0;
    display: none;
}

#main-video {
    width: 100%;
    height: 100%;
    object-fit: contain;
    background: black;
}

#options {
    position: absolute;
    bottom: 12%;
    left: 50%;
    transform: translateX(-50%);
    display: none;
    gap: 20px;
}

#options button {
    padding: 14px 32px;
    border-radius: 30px;
    background: rgba(0,0,0,0.65);
    color: white;
    border: 1px solid white;
    cursor: pointer;
}

/* ================= å´é‚ŠæŒ‰éˆ• ================= */
#menu-btns {
    position: fixed;
    right: 20px;
    top: 50%;
    transform: translateY(-50%);
    display: flex;
    flex-direction: column;
    gap: 12px;
}

#menu-btns button {
    padding: 10px 18px;
    background: rgba(0,0,0,0.6);
    color: white;
    border: 1px solid white;
    border-radius: 20px;
    cursor: pointer;
}

/* ================= è¦–çª—ç›’ ================= */
.menu-box {
    width: 80%;
    max-width: 640px;
    margin: 8% auto;
    background: #111;
    color: white;
    padding: 24px;
    border-radius: 14px;
    position: relative;
}

.close {
    position: absolute;
    top: 10px;
    right: 16px;
    cursor: pointer;
}

#achievement-list {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 14px;
}

.achievement {
    border: 1px solid #444;
    padding: 14px;
    background: #000;
    text-align: center;
}
</style>
</head>

<body>

<!-- ================= ä¸»é¸å–® ================= -->
<div id="main-menu" class="menu show">
    <div class="menu-bg"></div>
    <div class="menu-buttons">
        <button onclick="startGame()">â–¶ ä¸»ç·šé–‹å§‹</button>
        <button onclick="startExtra()">â˜† ç•ªå¤–</button>
        <button onclick="openAchievements()">ğŸ† çµå±€è’é›†</button>
    </div>
</div>

<!-- ================= æˆå°± ================= -->
<div id="achievement-menu" class="menu">
    <div class="menu-box">
        <span class="close" onclick="closeAchievements()">âœ•</span>
        <h2>çµå±€è’é›†</h2>
        <div id="achievement-list"></div>
    </div>
</div>

<!-- ================= éŠæˆ² ================= -->
<div id="video-container">
    <video id="main-video" autoplay playsinline></video>
    <div id="options"></div>

    <div id="menu-btns">
        <button onclick="openSaveMenu()">å­˜æª”</button>
        <button onclick="openLoadMenu()">è®€æª”</button>
    </div>

    <button id="restart" onclick="backToMenu()" style="
        position:absolute;top:20px;left:20px;display:none;">
        å›ä¸»é¸å–®
    </button>
</div>

<!-- ================= å­˜æª” / è®€æª” ================= -->
<div id="save-menu" class="menu">
    <div class="menu-box">
        <span class="close" onclick="closeMenus()">âœ•</span>
        <h2>å­˜æª”</h2>
        <div id="save-slots"></div>
    </div>
</div>

<div id="load-menu" class="menu">
    <div class="menu-box">
        <span class="close" onclick="closeMenus()">âœ•</span>
        <h2>è®€æª”</h2>
        <div id="load-slots"></div>
    </div>
</div>

<script>
/* ================= çµå±€è³‡æ–™ ================= */
const endings = {
    ignore: "ç„¡æ³•åœç•™çš„äººé–“",
    only_you: "è½å–®",
    the_blood: "å†ä¹Ÿé€ƒé›¢ä¸äº†çš„æƒ¡å¤¢"
};

/* ================= åŠ‡æƒ… ================= */
const story = {
    ignore:{title:"ç„¡æ³•åœç•™çš„äººé–“",video:"endå–§å›‚.mp4",choices:[],isEnd:true},
    only_you:{title:"è½å–®",video:"endè½å–®.mp4",choices:[],isEnd:true},
    the_blood:{title:"å†ä¹Ÿé€ƒé›¢ä¸äº†çš„æƒ¡å¤¢",video:"endè¡€è‰²çš„å‘»åŸ.mp4",choices:[],isEnd:true},

    start:{
        title:"é–‹ç«¯",video:"é–‹ç«¯.mp4",
        choices:[
            {text:"ä¸Šå‰è©¢å•",next:"reply"},
            {text:"ä¸ç®¡äº†ï¼Œé‚„æ˜¯å›å®¶å§â€¦â€¦",next:"ignore"}
        ]
    },

    reply:{
        title:"åˆæ¬¡è¦‹é¢",video:"æ­è©±.mp4",
        choices:[
            {text:"å¥½çš„",next:"yes"},
            {text:"ä¸å»",next:"no"}
        ]
    },

    no:{
        title:"è‰¾çˆ¾çš„é‚€ç´„",video:"è›‹ç³•åº—.mp4",
        choices:[
            {text:"ç­”æ‡‰ä»–",next:"go"},
            {text:"æ‹’çµ•ä»–",next:"dont_go"}
        ]
    },

    dont_go:{title:"æ‹’çµ•",video:"æ‹’çµ•.mp4",choices:[],nextScene:"only_you"},
    go:{title:"æœŸå¾…çš„æ˜æ—¥",video:"ä¸€èµ·å».mp4",choices:[],nextScene:"make_cake"},
    make_cake:{title:"ç”œé»æ™‚å…‰",video:"åšè›‹ç³•.mp4",choices:[],nextScene:"eat_cake"},

    eat_cake:{
        title:"å¥¶æ²¹èˆ‡å¿ƒè·³",video:"åƒè›‹ç³•.mp4",
        choices:[
            {text:"è‡ªå·±æ­åœ°éµ",next:"the_blood"},
            {text:"è®“è‰¾çˆ¾é€ä½ ",next:"talking"}
        ]
    },

    talking:{
        title:"ä½ çš„ä¸»å‹•",video:"ä¸€èµ·å›å®¶.mp4",
        choices:[
            {text:"æåŠç«¥å¹´",next:"mother"},
            {text:"æ²‰é»˜",next:"only_you"}
        ]
    },

    mother:{
        title:"å°ç«¥å¹´çš„è†è½",video:"ç«¥å¹´çš„è©•åƒ¹.mp4",
        choices:[
            {text:"æ¯è¦ªéƒ½æ˜¯ç‚ºäº†ä½ å¥½",next:"only_you"},
            {text:"ä»¥å¾Œéƒ½æœ‰æˆ‘åœ¨",next:"only_you"}
        ]
    },

    yes:{title:"ï¼ˆé ç•™ï¼‰",video:"æ­è©±.mp4",choices:[],isEnd:true}
};

const video = document.getElementById("main-video");
const options = document.getElementById("options");
let currentScene = "start";

/* ================= ä¸»æµç¨‹ ================= */
function startGame(){
    document.getElementById("main-menu").classList.remove("show");
    document.getElementById("video-container").style.display="block";
    loadScene("start");
}

function loadScene(key){
    currentScene = key;
    const s = story[key];

    video.src = s.video;
    video.load();
    video.play();

    options.innerHTML="";
    options.style.display="none";
    restart.style.display="none";

    video.onended=()=>{
        if(s.isEnd){
            unlockEnding(key);
            restart.style.display="block";
            return;
        }
        if(s.nextScene){ loadScene(s.nextScene); return; }
        s.choices.forEach(c=>{
            const b=document.createElement("button");
            b.textContent=c.text;
            b.onclick=()=>loadScene(c.next);
            options.appendChild(b);
        });
        options.style.display="flex";
    }
}

/* ================= æˆå°± ================= */
function unlockEnding(k){
    if(!endings[k])return;
    let u=JSON.parse(localStorage.getItem("endings"))||[];
    if(!u.includes(k)){u.push(k);localStorage.setItem("endings",JSON.stringify(u));}
}

function openAchievements(){
    const list=document.getElementById("achievement-list");
    list.innerHTML="";
    const u=JSON.parse(localStorage.getItem("endings"))||[];
    for(const k in endings){
        const d=document.createElement("div");
        d.className="achievement";
        d.textContent=u.includes(k)?endings[k]:"???";
        list.appendChild(d);
    }
    document.getElementById("achievement-menu").classList.add("show");
}
function closeAchievements(){
    document.getElementById("achievement-menu").classList.remove("show");
}

/* ================= å…¶ä»– ================= */
function startExtra(){ alert("ç•ªå¤–å°šæœªå¯¦è£"); }
function backToMenu(){
    video.pause();
    document.getElementById("video-container").style.display="none";
    document.getElementById("main-menu").classList.add("show");
}
</script>

</body>
</html>
